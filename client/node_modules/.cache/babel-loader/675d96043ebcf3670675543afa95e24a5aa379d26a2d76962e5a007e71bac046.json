{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Muhammet\\\\Desktop\\\\galerio-app\\\\client\\\\src\\\\MessagesPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// import React, { useState, useEffect, useCallback } from 'react';\n// import axios from 'axios';\n// import AdminChatBox from './AdminChatBox';\n// import './MessagesPage.css';\n// import { useNavigate } from 'react-router-dom';\n// import { socket } from './socket';\n// import { jwtDecode } from 'jwt-decode';\n\n// function MessagesPage() {\n//   const [conversations, setConversations] = useState([]);\n//   const [selectedConversation, setSelectedConversation] = useState(null);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const navigate = useNavigate();\n\n//   const fetchConversations = useCallback(async () => {\n//     try {\n//       const token = localStorage.getItem('token');\n//       if (!token) {\n//         navigate('/');\n//         return;\n//       }\n//       const response = await axios.get('http://localhost:5000/api/conversations', {\n//         headers: { 'Authorization': `Bearer ${token}` }\n//       });\n//       setConversations(response.data);\n//       setError('');\n//     } catch (error) {\n//       console.error(\"KonuÅŸmalar yÃ¼klenemedi:\", error);\n//       const errorMessage = error.response?.data?.message || 'KonuÅŸmalar yÃ¼klenirken bir hata oluÅŸtu.';\n//       setError(errorMessage);\n//       if (error.response?.status === 403 || error.response?.status === 401) {\n//         localStorage.removeItem('token');\n//         navigate('/');\n//       }\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   }, [navigate]);\n\n//   useEffect(() => {\n//     // Socket baÄŸlantÄ±sÄ±nÄ± kur\n//     if (!socket.connected) {\n//       socket.connect();\n//     }\n\n//     fetchConversations();\n\n//     const handleRefresh = () => {\n//       console.log('ğŸ”„ KonuÅŸmalar yenileniyor...');\n//       fetchConversations();\n//     };\n\n//     const handleConversationDeleted = (deletedConvId) => {\n//         if (selectedConversation?.conversation_id === deletedConvId) {\n//             setSelectedConversation(null);\n//         }\n//         fetchConversations();\n//     };\n\n//     const handleNewUnreadMessage = (data) => {\n//       console.log('ğŸ“© Yeni mesaj bildirimi alÄ±ndÄ±:', data);\n//       fetchConversations(); // KonuÅŸma listesini yenile\n//     };\n\n//     // *** YENÄ° EKLEME: Conversation okundu durumu gÃ¼ncellendiÄŸinde ***\n//     const handleConversationReadStatusUpdated = (data) => {\n//       console.log('ğŸ‘ï¸ Conversation okundu durumu gÃ¼ncellendi:', data);\n//       fetchConversations();\n//     };\n\n//     socket.on('admin_refresh_conversations', handleRefresh);\n//     socket.on('conversation_deleted', handleConversationDeleted);\n//     socket.on('admin_new_unread_message', handleNewUnreadMessage);\n//     socket.on('conversation_read_status_updated', handleConversationReadStatusUpdated);\n\n//     return () => {\n//       socket.off('admin_refresh_conversations', handleRefresh);\n//       socket.off('conversation_deleted', handleConversationDeleted);\n//       socket.off('admin_new_unread_message', handleNewUnreadMessage);\n//       socket.off('conversation_read_status_updated', handleConversationReadStatusUpdated);\n//     };\n//   }, [fetchConversations, selectedConversation]);\n\n//   const handleDeleteConversation = async (e, conversationId) => {\n//     e.stopPropagation();\n//     if (window.confirm(\"Bu sohbeti ve iÃ§indeki tÃ¼m mesajlarÄ± kalÄ±cÄ± olarak silmek istediÄŸinizden emin misiniz?\")) {\n//         try {\n//             const token = localStorage.getItem('token');\n//             await axios.delete(`http://localhost:5000/api/conversations/${conversationId}`, {\n//                 headers: { 'Authorization': `Bearer ${token}` }\n//             });\n//         } catch (error) {\n//             alert(error.response?.data?.message || \"Sohbet silinirken bir hata oluÅŸtu.\");\n//         }\n//     }\n//   };\n\n//   const handleSelectConversation = (convo) => {\n//     setSelectedConversation(convo);\n\n//     // Bu konuÅŸmaya ait bildirimleri temizle\n//     const token = localStorage.getItem('token');\n//     if (token) {\n//         try {\n//             const adminId = jwtDecode(token).id;\n//             socket.emit('admin_cleared_notifications', { \n//                 adminId, \n//                 conversationId: convo.conversation_id \n//             });\n//         } catch (error) {\n//             console.error(\"Token okunamadÄ± veya geÃ§ersiz:\", error);\n//         }\n//     }\n//   };\n\n//   const refreshConversations = () => {\n//     setIsLoading(true);\n//     fetchConversations();\n//   };\n\n//   if (isLoading) {\n//     return (\n//       <div className=\"messages-page-container\">\n//         <div className=\"loading-container\">\n//           <p>KonuÅŸmalar yÃ¼kleniyor...</p>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   if (error && conversations.length === 0) {\n//     return (\n//       <div className=\"messages-page-container\">\n//         <div className=\"error-container\">\n//           <p>Hata: {error}</p>\n//           <button onClick={refreshConversations}>Tekrar Dene</button>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"messages-page-container\">\n//       <div className=\"conversations-sidebar\">\n//         <div className=\"sidebar-header\">\n//           <button onClick={() => navigate('/dashboard')} className=\"back-to-dashboard-btn\" title=\"YÃ¶netim Paneline DÃ¶n\">â€¹ Panele DÃ¶n</button>\n//           <h2>Gelen Kutusu</h2>\n//           <button onClick={refreshConversations} className=\"refresh-btn\" title=\"Yenile\">ğŸ”„</button>\n//         </div>\n//         <div className=\"conversations-list\">\n//           {conversations.length === 0 ? (\n//             <div className=\"no-conversations\"><p>HenÃ¼z bir gÃ¶rÃ¼ÅŸme baÅŸlatÄ±lmamÄ±ÅŸ.</p></div>\n//           ) : (\n//             conversations.map((convo) => {\n//               // *** YENÄ° EKLEME: OkunmamÄ±ÅŸ mesaj var mÄ± kontrol et ***\n//               const hasUnreadMessages = convo.unread_count > 0;\n\n//               return (\n//                 <div \n//                   key={convo.conversation_id} \n//                   className={`conversation-item ${selectedConversation?.conversation_id === convo.conversation_id ? 'active' : ''} ${hasUnreadMessages ? 'unread' : ''}`}\n//                   onClick={() => handleSelectConversation(convo)}\n//                 >\n//                   <div className=\"conversation-avatar\">\n//                     {convo.user_name?.charAt(0).toUpperCase() || '?'}\n//                     {/* *** YENÄ° EKLEME: OkunmamÄ±ÅŸ mesaj badge'i *** */}\n//                     {hasUnreadMessages && (\n//                       <span className=\"unread-badge\">{convo.unread_count}</span>\n//                     )}\n//                   </div>\n//                   <div className=\"conversation-content\">\n//                     <div className=\"conversation-header\">\n//                       <h4 className={hasUnreadMessages ? 'unread-name' : ''}>\n//                         {convo.user_name || 'Bilinmeyen KullanÄ±cÄ±'}\n//                       </h4>\n//                       <span className=\"conversation-time\">\n//                         {new Date(convo.created_at).toLocaleString('tr-TR', { hour: '2-digit', minute: '2-digit' })}\n//                       </span>\n//                     </div>\n//                     <div className=\"vehicle-info\">\n//                       <span className=\"vehicle-name\">{convo.brand} {convo.model}</span>\n//                     </div>\n//                     <p className={`last-message ${hasUnreadMessages ? 'unread-message' : ''}`}>\n//                       {convo.message}\n//                       {/* *** YENÄ° EKLEME: OkunmamÄ±ÅŸ mesaj ikonu *** */}\n//                       {hasUnreadMessages && <span className=\"unread-indicator\"> â—</span>}\n//                     </p>\n//                   </div>\n//                   <button className=\"delete-conversation-btn\" title=\"Sohbeti Sil\" onClick={(e) => handleDeleteConversation(e, convo.conversation_id)}>ğŸ—‘ï¸</button>\n//                 </div>\n//               );\n//             })\n//           )}\n//         </div>\n//       </div>\n//       <div className=\"chat-area\">\n//         {selectedConversation ? (\n//           <AdminChatBox \n//             key={selectedConversation.conversation_id} \n//             conversationId={selectedConversation.conversation_id}\n//           />\n//         ) : (\n//           <div className=\"no-chat-selected\">\n//             <div className=\"no-chat-content\">\n//               <h3>HoÅŸ Geldiniz!</h3>\n//               <p>MesajlarÄ± gÃ¶rÃ¼ntÃ¼lemek iÃ§in sol menÃ¼den bir konuÅŸma seÃ§in.</p>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default MessagesPage;\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nimport './HomePage.css';\nimport ChatModal from './ChatModal';\nimport { socket } from './socket';\nimport { FaCalculator, FaChartLine, FaEnvelope, FaSignOutAlt } from 'react-icons/fa';\n\n// *** DEÄÄ°ÅÄ°KLÄ°K: UserMessagesButton artÄ±k burada kullanÄ±lmayacak ***\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [vehicles, setVehicles] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const navigate = useNavigate();\n  const [selectedVehicleForDetails, setSelectedVehicleForDetails] = useState(null);\n  const [selectedVehicleForChat, setSelectedVehicleForChat] = useState(null);\n  const [userFullName, setUserFullName] = useState('');\n\n  // *** DEÄÄ°ÅÄ°KLÄ°K: Modal state'i kaldÄ±rÄ±ldÄ± ***\n  // const [showUserMessagesModal, setShowUserMessagesModal] = useState(false); \n\n  const handleLogout = useCallback(() => {\n    socket.disconnect();\n    localStorage.removeItem('token');\n    navigate('/');\n  }, [navigate]);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const decodedToken = jwtDecode(token);\n        setUserFullName(decodedToken.name);\n      } catch (error) {\n        console.error(\"GeÃ§ersiz token, Ã§Ä±kÄ±ÅŸ yapÄ±lÄ±yor.\", error);\n        handleLogout();\n      }\n    } else {\n      navigate('/');\n    }\n    const fetchAllVehicles = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/api/vehicles');\n        setVehicles(response.data);\n      } catch (error) {\n        console.error(\"AraÃ§lar Ã§ekilirken hata oluÅŸtu:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchAllVehicles();\n  }, [navigate, handleLogout]);\n  const openDetailsModal = async vehicleId => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/vehicles/${vehicleId}`);\n      setSelectedVehicleForDetails(response.data);\n    } catch (error) {\n      alert(\"AraÃ§ detaylarÄ± yÃ¼klenirken bir hata oluÅŸtu.\");\n    }\n  };\n  const closeDetailsModal = () => setSelectedVehicleForDetails(null);\n  const openChatModal = vehicle => {\n    if (vehicle) {\n      closeDetailsModal();\n      setSelectedVehicleForChat(vehicle);\n    }\n  };\n  const closeChatModal = () => setSelectedVehicleForChat(null);\n\n  // *** DEÄÄ°ÅÄ°KLÄ°K: Modal fonksiyonlarÄ± kaldÄ±rÄ±ldÄ± ***\n  // const openUserMessagesModal = () => setShowUserMessagesModal(true); \n  // const closeUserMessagesModal = () => setShowUserMessagesModal(false);\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-container\",\n    children: \"\\u0130lanlar Y\\xFCkleniyor...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"home-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-message\",\n        children: [\"Merhaba \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: userFullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }, this), \", Bayramlar Auto \\u0130lanlar\\u0131na Ho\\u015F Geldiniz.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button\",\n          onClick: () => navigate('/kredi-hesapla'),\n          children: [/*#__PURE__*/_jsxDEV(FaCalculator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Kredi Hesapla\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button\",\n          onClick: () => navigate('/piyasa-degeri'),\n          children: [/*#__PURE__*/_jsxDEV(FaChartLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Piyasa De\\u011Feri\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button\",\n          onClick: () => navigate('/mesajlarim'),\n          children: [/*#__PURE__*/_jsxDEV(FaEnvelope, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Mesajlar\\u0131m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-button logout\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\xC7\\u0131k\\u0131\\u015F Yap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"vehicle-gallery\",\n      children: vehicles.map(vehicle => {\n        var _vehicle$mileage;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vehicle-card-item\",\n          onClick: () => openDetailsModal(vehicle.id),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-image-container\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: vehicle.photo_url ? `http://localhost:5000/${vehicle.photo_url}` : 'https://via.placeholder.com/400x300?text=Resim+Yok',\n              alt: `${vehicle.brand} ${vehicle.model}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"vehicle-title\",\n                children: [vehicle.brand, \" \", vehicle.model]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"vehicle-specs\",\n                children: [vehicle.year, \" \\u2022 \", (_vehicle$mileage = vehicle.mileage) === null || _vehicle$mileage === void 0 ? void 0 : _vehicle$mileage.toLocaleString('tr-TR'), \" km \\u2022 \", vehicle.fuel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-tag\",\n              children: parseFloat(vehicle.sale_price).toLocaleString('tr-TR', {\n                style: 'currency',\n                currency: 'TRY',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, vehicle.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), selectedVehicleForDetails && /*#__PURE__*/_jsxDEV(VehicleDetailModal, {\n      vehicle: selectedVehicleForDetails,\n      closeModal: closeDetailsModal,\n      openChat: () => openChatModal(selectedVehicleForDetails)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }, this), selectedVehicleForChat && /*#__PURE__*/_jsxDEV(ChatModal, {\n      vehicle: selectedVehicleForChat,\n      closeModal: closeChatModal\n    }, selectedVehicleForChat.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n}\n\n// VehicleDetailModal bileÅŸeni olduÄŸu gibi kalabilir...\n_s(HomePage, \"FoZWKUcFfjK73wVtUe/vaxuTblY=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nfunction VehicleDetailModal({\n  vehicle,\n  closeModal,\n  openChat\n}) {\n  _s2();\n  var _vehicle$mileage2;\n  // ...iÃ§erik aynÄ±...\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const nextImage = e => {\n    e.stopPropagation();\n    setCurrentImageIndex(prev => prev === vehicle.photos.length - 1 ? 0 : prev + 1);\n  };\n  const prevImage = e => {\n    e.stopPropagation();\n    setCurrentImageIndex(prev => prev === 0 ? vehicle.photos.length - 1 : prev - 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: closeModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-close-btn\",\n        onClick: closeModal,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-images-section\",\n          children: vehicle.photos && vehicle.photos.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-gallery\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main-image-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000/${vehicle.photos[currentImageIndex].photo_url}`,\n                alt: \"Ana Ara\\xE7\",\n                className: \"main-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 21\n              }, this), vehicle.photos.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"image-nav-btn prev\",\n                  onClick: prevImage,\n                  children: \"\\u2039\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"image-nav-btn next\",\n                  onClick: nextImage,\n                  children: \"\\u203A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 21\n            }, this), vehicle.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"thumbnail-container\",\n              children: vehicle.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `http://localhost:5000/${photo.photo_url}`,\n                alt: `Thumbnail ${index + 1}`,\n                className: `thumbnail ${index === currentImageIndex ? 'active' : ''}`,\n                onClick: e => {\n                  e.stopPropagation();\n                  setCurrentImageIndex(index);\n                }\n              }, photo.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Bu ara\\xE7 i\\xE7in foto\\u011Fraf bulunmamaktad\\u0131r.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-info-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"vehicle-modal-title\",\n            children: [vehicle.brand, \" \", vehicle.model]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vehicle-details-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"Y\\u0131l:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: vehicle.year\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 88\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"Kilometre:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: [(_vehicle$mileage2 = vehicle.mileage) === null || _vehicle$mileage2 === void 0 ? void 0 : _vehicle$mileage2.toLocaleString('tr-TR'), \" km\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 94\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"Yak\\u0131t:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: vehicle.fuel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 90\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-label\",\n                children: \"Vites:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detail-value\",\n                children: vehicle.gear\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 90\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"price-label\",\n              children: \"Sat\\u0131\\u015F Fiyat\\u0131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"price-value\",\n              children: parseFloat(vehicle.sale_price).toLocaleString('tr-TR', {\n                style: 'currency',\n                currency: 'TRY'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 17\n          }, this), vehicle.description && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"A\\xE7\\u0131klama\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: vehicle.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"message-action-button\",\n            onClick: openChat,\n            children: \"Sat\\u0131c\\u0131 ile Canl\\u0131 Mesajla\\u015Fma\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 9\n  }, this);\n}\n_s2(VehicleDetailModal, \"9v0ytpuutRzzYv7ZHc4AVX3IX2Q=\");\n_c2 = VehicleDetailModal;\nexport default HomePage;\nvar _c, _c2;\n$RefreshReg$(_c, \"HomePage\");\n$RefreshReg$(_c2, \"VehicleDetailModal\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNavigate","jwtDecode","ChatModal","socket","FaCalculator","FaChartLine","FaEnvelope","FaSignOutAlt","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","_s","vehicles","setVehicles","isLoading","setIsLoading","navigate","selectedVehicleForDetails","setSelectedVehicleForDetails","selectedVehicleForChat","setSelectedVehicleForChat","userFullName","setUserFullName","handleLogout","disconnect","localStorage","removeItem","token","getItem","decodedToken","name","error","console","fetchAllVehicles","response","get","data","openDetailsModal","vehicleId","alert","closeDetailsModal","openChatModal","vehicle","closeChatModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","_vehicle$mileage","id","src","photo_url","alt","brand","model","year","mileage","toLocaleString","fuel","parseFloat","sale_price","style","currency","minimumFractionDigits","maximumFractionDigits","VehicleDetailModal","closeModal","openChat","_c","_s2","_vehicle$mileage2","currentImageIndex","setCurrentImageIndex","nextImage","e","stopPropagation","prev","photos","length","prevImage","photo","index","gear","description","_c2","$RefreshReg$"],"sources":["C:/Users/Muhammet/Desktop/galerio-app/client/src/MessagesPage.js"],"sourcesContent":["// import React, { useState, useEffect, useCallback } from 'react';\r\n// import axios from 'axios';\r\n// import AdminChatBox from './AdminChatBox';\r\n// import './MessagesPage.css';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { socket } from './socket';\r\n// import { jwtDecode } from 'jwt-decode';\r\n\r\n// function MessagesPage() {\r\n//   const [conversations, setConversations] = useState([]);\r\n//   const [selectedConversation, setSelectedConversation] = useState(null);\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n//   const [error, setError] = useState('');\r\n//   const navigate = useNavigate();\r\n\r\n//   const fetchConversations = useCallback(async () => {\r\n//     try {\r\n//       const token = localStorage.getItem('token');\r\n//       if (!token) {\r\n//         navigate('/');\r\n//         return;\r\n//       }\r\n//       const response = await axios.get('http://localhost:5000/api/conversations', {\r\n//         headers: { 'Authorization': `Bearer ${token}` }\r\n//       });\r\n//       setConversations(response.data);\r\n//       setError('');\r\n//     } catch (error) {\r\n//       console.error(\"KonuÅŸmalar yÃ¼klenemedi:\", error);\r\n//       const errorMessage = error.response?.data?.message || 'KonuÅŸmalar yÃ¼klenirken bir hata oluÅŸtu.';\r\n//       setError(errorMessage);\r\n//       if (error.response?.status === 403 || error.response?.status === 401) {\r\n//         localStorage.removeItem('token');\r\n//         navigate('/');\r\n//       }\r\n//     } finally {\r\n//       setIsLoading(false);\r\n//     }\r\n//   }, [navigate]);\r\n\r\n//   useEffect(() => {\r\n//     // Socket baÄŸlantÄ±sÄ±nÄ± kur\r\n//     if (!socket.connected) {\r\n//       socket.connect();\r\n//     }\r\n    \r\n//     fetchConversations();\r\n    \r\n//     const handleRefresh = () => {\r\n//       console.log('ğŸ”„ KonuÅŸmalar yenileniyor...');\r\n//       fetchConversations();\r\n//     };\r\n    \r\n//     const handleConversationDeleted = (deletedConvId) => {\r\n//         if (selectedConversation?.conversation_id === deletedConvId) {\r\n//             setSelectedConversation(null);\r\n//         }\r\n//         fetchConversations();\r\n//     };\r\n    \r\n//     const handleNewUnreadMessage = (data) => {\r\n//       console.log('ğŸ“© Yeni mesaj bildirimi alÄ±ndÄ±:', data);\r\n//       fetchConversations(); // KonuÅŸma listesini yenile\r\n//     };\r\n\r\n//     // *** YENÄ° EKLEME: Conversation okundu durumu gÃ¼ncellendiÄŸinde ***\r\n//     const handleConversationReadStatusUpdated = (data) => {\r\n//       console.log('ğŸ‘ï¸ Conversation okundu durumu gÃ¼ncellendi:', data);\r\n//       fetchConversations();\r\n//     };\r\n\r\n//     socket.on('admin_refresh_conversations', handleRefresh);\r\n//     socket.on('conversation_deleted', handleConversationDeleted);\r\n//     socket.on('admin_new_unread_message', handleNewUnreadMessage);\r\n//     socket.on('conversation_read_status_updated', handleConversationReadStatusUpdated);\r\n\r\n//     return () => {\r\n//       socket.off('admin_refresh_conversations', handleRefresh);\r\n//       socket.off('conversation_deleted', handleConversationDeleted);\r\n//       socket.off('admin_new_unread_message', handleNewUnreadMessage);\r\n//       socket.off('conversation_read_status_updated', handleConversationReadStatusUpdated);\r\n//     };\r\n//   }, [fetchConversations, selectedConversation]);\r\n\r\n//   const handleDeleteConversation = async (e, conversationId) => {\r\n//     e.stopPropagation();\r\n//     if (window.confirm(\"Bu sohbeti ve iÃ§indeki tÃ¼m mesajlarÄ± kalÄ±cÄ± olarak silmek istediÄŸinizden emin misiniz?\")) {\r\n//         try {\r\n//             const token = localStorage.getItem('token');\r\n//             await axios.delete(`http://localhost:5000/api/conversations/${conversationId}`, {\r\n//                 headers: { 'Authorization': `Bearer ${token}` }\r\n//             });\r\n//         } catch (error) {\r\n//             alert(error.response?.data?.message || \"Sohbet silinirken bir hata oluÅŸtu.\");\r\n//         }\r\n//     }\r\n//   };\r\n\r\n//   const handleSelectConversation = (convo) => {\r\n//     setSelectedConversation(convo);\r\n    \r\n//     // Bu konuÅŸmaya ait bildirimleri temizle\r\n//     const token = localStorage.getItem('token');\r\n//     if (token) {\r\n//         try {\r\n//             const adminId = jwtDecode(token).id;\r\n//             socket.emit('admin_cleared_notifications', { \r\n//                 adminId, \r\n//                 conversationId: convo.conversation_id \r\n//             });\r\n//         } catch (error) {\r\n//             console.error(\"Token okunamadÄ± veya geÃ§ersiz:\", error);\r\n//         }\r\n//     }\r\n//   };\r\n\r\n//   const refreshConversations = () => {\r\n//     setIsLoading(true);\r\n//     fetchConversations();\r\n//   };\r\n\r\n//   if (isLoading) {\r\n//     return (\r\n//       <div className=\"messages-page-container\">\r\n//         <div className=\"loading-container\">\r\n//           <p>KonuÅŸmalar yÃ¼kleniyor...</p>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n  \r\n//   if (error && conversations.length === 0) {\r\n//     return (\r\n//       <div className=\"messages-page-container\">\r\n//         <div className=\"error-container\">\r\n//           <p>Hata: {error}</p>\r\n//           <button onClick={refreshConversations}>Tekrar Dene</button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"messages-page-container\">\r\n//       <div className=\"conversations-sidebar\">\r\n//         <div className=\"sidebar-header\">\r\n//           <button onClick={() => navigate('/dashboard')} className=\"back-to-dashboard-btn\" title=\"YÃ¶netim Paneline DÃ¶n\">â€¹ Panele DÃ¶n</button>\r\n//           <h2>Gelen Kutusu</h2>\r\n//           <button onClick={refreshConversations} className=\"refresh-btn\" title=\"Yenile\">ğŸ”„</button>\r\n//         </div>\r\n//         <div className=\"conversations-list\">\r\n//           {conversations.length === 0 ? (\r\n//             <div className=\"no-conversations\"><p>HenÃ¼z bir gÃ¶rÃ¼ÅŸme baÅŸlatÄ±lmamÄ±ÅŸ.</p></div>\r\n//           ) : (\r\n//             conversations.map((convo) => {\r\n//               // *** YENÄ° EKLEME: OkunmamÄ±ÅŸ mesaj var mÄ± kontrol et ***\r\n//               const hasUnreadMessages = convo.unread_count > 0;\r\n              \r\n//               return (\r\n//                 <div \r\n//                   key={convo.conversation_id} \r\n//                   className={`conversation-item ${selectedConversation?.conversation_id === convo.conversation_id ? 'active' : ''} ${hasUnreadMessages ? 'unread' : ''}`}\r\n//                   onClick={() => handleSelectConversation(convo)}\r\n//                 >\r\n//                   <div className=\"conversation-avatar\">\r\n//                     {convo.user_name?.charAt(0).toUpperCase() || '?'}\r\n//                     {/* *** YENÄ° EKLEME: OkunmamÄ±ÅŸ mesaj badge'i *** */}\r\n//                     {hasUnreadMessages && (\r\n//                       <span className=\"unread-badge\">{convo.unread_count}</span>\r\n//                     )}\r\n//                   </div>\r\n//                   <div className=\"conversation-content\">\r\n//                     <div className=\"conversation-header\">\r\n//                       <h4 className={hasUnreadMessages ? 'unread-name' : ''}>\r\n//                         {convo.user_name || 'Bilinmeyen KullanÄ±cÄ±'}\r\n//                       </h4>\r\n//                       <span className=\"conversation-time\">\r\n//                         {new Date(convo.created_at).toLocaleString('tr-TR', { hour: '2-digit', minute: '2-digit' })}\r\n//                       </span>\r\n//                     </div>\r\n//                     <div className=\"vehicle-info\">\r\n//                       <span className=\"vehicle-name\">{convo.brand} {convo.model}</span>\r\n//                     </div>\r\n//                     <p className={`last-message ${hasUnreadMessages ? 'unread-message' : ''}`}>\r\n//                       {convo.message}\r\n//                       {/* *** YENÄ° EKLEME: OkunmamÄ±ÅŸ mesaj ikonu *** */}\r\n//                       {hasUnreadMessages && <span className=\"unread-indicator\"> â—</span>}\r\n//                     </p>\r\n//                   </div>\r\n//                   <button className=\"delete-conversation-btn\" title=\"Sohbeti Sil\" onClick={(e) => handleDeleteConversation(e, convo.conversation_id)}>ğŸ—‘ï¸</button>\r\n//                 </div>\r\n//               );\r\n//             })\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//       <div className=\"chat-area\">\r\n//         {selectedConversation ? (\r\n//           <AdminChatBox \r\n//             key={selectedConversation.conversation_id} \r\n//             conversationId={selectedConversation.conversation_id}\r\n//           />\r\n//         ) : (\r\n//           <div className=\"no-chat-selected\">\r\n//             <div className=\"no-chat-content\">\r\n//               <h3>HoÅŸ Geldiniz!</h3>\r\n//               <p>MesajlarÄ± gÃ¶rÃ¼ntÃ¼lemek iÃ§in sol menÃ¼den bir konuÅŸma seÃ§in.</p>\r\n//             </div>\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default MessagesPage;\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport './HomePage.css'; \r\nimport ChatModal from './ChatModal';\r\nimport { socket } from './socket';\r\nimport { FaCalculator, FaChartLine, FaEnvelope, FaSignOutAlt } from 'react-icons/fa';\r\n\r\n// *** DEÄÄ°ÅÄ°KLÄ°K: UserMessagesButton artÄ±k burada kullanÄ±lmayacak ***\r\n\r\nfunction HomePage() {\r\n  const [vehicles, setVehicles] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  \r\n  const [selectedVehicleForDetails, setSelectedVehicleForDetails] = useState(null);\r\n  const [selectedVehicleForChat, setSelectedVehicleForChat] = useState(null);\r\n  const [userFullName, setUserFullName] = useState('');\r\n  \r\n  // *** DEÄÄ°ÅÄ°KLÄ°K: Modal state'i kaldÄ±rÄ±ldÄ± ***\r\n  // const [showUserMessagesModal, setShowUserMessagesModal] = useState(false); \r\n\r\n  const handleLogout = useCallback(() => {\r\n    socket.disconnect(); \r\n    localStorage.removeItem('token');\r\n    navigate('/');\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        try {\r\n            const decodedToken = jwtDecode(token);\r\n            setUserFullName(decodedToken.name); \r\n        } catch (error) {\r\n            console.error(\"GeÃ§ersiz token, Ã§Ä±kÄ±ÅŸ yapÄ±lÄ±yor.\", error);\r\n            handleLogout();\r\n        }\r\n    } else {\r\n        navigate('/');\r\n    }\r\n\r\n    const fetchAllVehicles = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/vehicles');\r\n        setVehicles(response.data);\r\n      } catch (error) {\r\n        console.error(\"AraÃ§lar Ã§ekilirken hata oluÅŸtu:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchAllVehicles();\r\n    \r\n  }, [navigate, handleLogout]); \r\n\r\n  const openDetailsModal = async (vehicleId) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/api/vehicles/${vehicleId}`);\r\n      setSelectedVehicleForDetails(response.data);\r\n    } catch (error) {\r\n      alert(\"AraÃ§ detaylarÄ± yÃ¼klenirken bir hata oluÅŸtu.\");\r\n    }\r\n  };\r\n  const closeDetailsModal = () => setSelectedVehicleForDetails(null);\r\n\r\n  const openChatModal = (vehicle) => {\r\n    if (vehicle) {\r\n        closeDetailsModal(); \r\n        setSelectedVehicleForChat(vehicle); \r\n    }\r\n  };\r\n  const closeChatModal = () => setSelectedVehicleForChat(null);\r\n\r\n  // *** DEÄÄ°ÅÄ°KLÄ°K: Modal fonksiyonlarÄ± kaldÄ±rÄ±ldÄ± ***\r\n  // const openUserMessagesModal = () => setShowUserMessagesModal(true); \r\n  // const closeUserMessagesModal = () => setShowUserMessagesModal(false);\r\n\r\n  if (isLoading) return <div className=\"loading-container\">Ä°lanlar YÃ¼kleniyor...</div>;\r\n\r\n  return (\r\n    <div className=\"home-page-container\">\r\n      <header className=\"home-header\">\r\n        <div className=\"welcome-message\">\r\n          Merhaba <span>{userFullName}</span>, Bayramlar Auto Ä°lanlarÄ±na HoÅŸ Geldiniz.\r\n        </div>\r\n        <nav className=\"header-actions\">\r\n          <button className=\"action-button\" onClick={() => navigate('/kredi-hesapla')}>\r\n            <FaCalculator />\r\n            <span>Kredi Hesapla</span>\r\n          </button>\r\n          \r\n          <button className=\"action-button\" onClick={() => navigate('/piyasa-degeri')}>\r\n            <FaChartLine />\r\n            <span>Piyasa DeÄŸeri</span>\r\n          </button>\r\n\r\n          {/* *** DEÄÄ°ÅÄ°KLÄ°K: Buton artÄ±k modal aÃ§mak yerine doÄŸru sayfaya yÃ¶nlendiriyor *** */}\r\n          <button className=\"action-button\" onClick={() => navigate('/mesajlarim')}>\r\n            <FaEnvelope />\r\n            <span>MesajlarÄ±m</span>\r\n          </button>\r\n\r\n          <button className=\"action-button logout\" onClick={handleLogout}>\r\n            <FaSignOutAlt />\r\n            <span>Ã‡Ä±kÄ±ÅŸ Yap</span>\r\n          </button>\r\n        </nav>\r\n      </header>\r\n      \r\n      <main className=\"vehicle-gallery\">\r\n        {vehicles.map(vehicle => (\r\n          <div key={vehicle.id} className=\"vehicle-card-item\" onClick={() => openDetailsModal(vehicle.id)}>\r\n            <div className=\"card-image-container\">\r\n              <img \r\n                src={vehicle.photo_url ? `http://localhost:5000/${vehicle.photo_url}` : 'https://via.placeholder.com/400x300?text=Resim+Yok'} \r\n                alt={`${vehicle.brand} ${vehicle.model}`}\r\n              />\r\n            </div>\r\n            <div className=\"card-content\">\r\n              <div>\r\n                <h3 className=\"vehicle-title\">{vehicle.brand} {vehicle.model}</h3>\r\n                <p className=\"vehicle-specs\">{vehicle.year} â€¢ {vehicle.mileage?.toLocaleString('tr-TR')} km â€¢ {vehicle.fuel}</p>\r\n              </div>\r\n              <div className=\"price-tag\">\r\n                {parseFloat(vehicle.sale_price).toLocaleString('tr-TR', { style: 'currency', currency: 'TRY', minimumFractionDigits: 0, maximumFractionDigits: 0 })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </main>\r\n\r\n      {selectedVehicleForDetails && (\r\n        <VehicleDetailModal \r\n          vehicle={selectedVehicleForDetails} \r\n          closeModal={closeDetailsModal} \r\n          openChat={() => openChatModal(selectedVehicleForDetails)}\r\n        />\r\n      )}\r\n\r\n      {selectedVehicleForChat && (\r\n        <ChatModal \r\n          key={selectedVehicleForChat.id}\r\n          vehicle={selectedVehicleForChat} \r\n          closeModal={closeChatModal} \r\n        />\r\n      )}\r\n\r\n      {/* *** DEÄÄ°ÅÄ°KLÄ°K: HatalÄ± modal yapÄ±sÄ± tamamen kaldÄ±rÄ±ldÄ± *** */}\r\n    </div>\r\n  );\r\n}\r\n\r\n// VehicleDetailModal bileÅŸeni olduÄŸu gibi kalabilir...\r\nfunction VehicleDetailModal({ vehicle, closeModal, openChat }) {\r\n    // ...iÃ§erik aynÄ±...\r\n    const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n\r\n    const nextImage = (e) => {\r\n        e.stopPropagation();\r\n        setCurrentImageIndex(prev => (prev === vehicle.photos.length - 1 ? 0 : prev + 1));\r\n    };\r\n    const prevImage = (e) => {\r\n        e.stopPropagation();\r\n        setCurrentImageIndex(prev => (prev === 0 ? vehicle.photos.length - 1 : prev - 1));\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-overlay\" onClick={closeModal}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <button className=\"modal-close-btn\" onClick={closeModal}>Ã—</button>\r\n            <div className=\"modal-body\">\r\n            <div className=\"modal-images-section\">\r\n                {vehicle.photos && vehicle.photos.length > 0 ? (\r\n                <div className=\"image-gallery\">\r\n                    <div className=\"main-image-container\">\r\n                    <img src={`http://localhost:5000/${vehicle.photos[currentImageIndex].photo_url}`} alt=\"Ana AraÃ§\" className=\"main-image\" />\r\n                    {vehicle.photos.length > 1 && (\r\n                        <>\r\n                        <button className=\"image-nav-btn prev\" onClick={prevImage}>â€¹</button>\r\n                        <button className=\"image-nav-btn next\" onClick={nextImage}>â€º</button>\r\n                        </>\r\n                    )}\r\n                    </div>\r\n                    {vehicle.photos.length > 1 && (\r\n                    <div className=\"thumbnail-container\">\r\n                        {vehicle.photos.map((photo, index) => (\r\n                        <img key={photo.id} src={`http://localhost:5000/${photo.photo_url}`} alt={`Thumbnail ${index + 1}`}\r\n                            className={`thumbnail ${index === currentImageIndex ? 'active' : ''}`}\r\n                            onClick={(e) => { e.stopPropagation(); setCurrentImageIndex(index); }} />\r\n                        ))}\r\n                    </div>\r\n                    )}\r\n                </div>\r\n                ) : <p>Bu araÃ§ iÃ§in fotoÄŸraf bulunmamaktadÄ±r.</p>}\r\n            </div>\r\n            <div className=\"modal-info-section\">\r\n                <h2 className=\"vehicle-modal-title\">{vehicle.brand} {vehicle.model}</h2>\r\n                <div className=\"vehicle-details-grid\">\r\n                <div className=\"detail-item\"><span className=\"detail-label\">YÄ±l:</span><span className=\"detail-value\">{vehicle.year}</span></div>\r\n                <div className=\"detail-item\"><span className=\"detail-label\">Kilometre:</span><span className=\"detail-value\">{vehicle.mileage?.toLocaleString('tr-TR')} km</span></div>\r\n                <div className=\"detail-item\"><span className=\"detail-label\">YakÄ±t:</span><span className=\"detail-value\">{vehicle.fuel}</span></div>\r\n                <div className=\"detail-item\"><span className=\"detail-label\">Vites:</span><span className=\"detail-value\">{vehicle.gear}</span></div>\r\n                </div>\r\n                <div className=\"price-section\">\r\n                <span className=\"price-label\">SatÄ±ÅŸ FiyatÄ±</span>\r\n                <span className=\"price-value\">{parseFloat(vehicle.sale_price).toLocaleString('tr-TR', { style: 'currency', currency: 'TRY' })}</span>\r\n                </div>\r\n                {vehicle.description && (\r\n                <div className=\"description-section\">\r\n                    <h4>AÃ§Ä±klama</h4><p>{vehicle.description}</p>\r\n                </div>\r\n                )}\r\n                <button className=\"message-action-button\" onClick={openChat}>\r\n                SatÄ±cÄ± ile CanlÄ± MesajlaÅŸma\r\n                </button>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default HomePage;"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAO,gBAAgB;AACvB,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,MAAM,QAAQ,UAAU;AACjC,SAASC,YAAY,EAAEC,WAAW,EAAEC,UAAU,EAAEC,YAAY,QAAQ,gBAAgB;;AAEpF;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEA,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoB,SAAS,EAAEC,YAAY,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMsB,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACmB,yBAAyB,EAAEC,4BAA4B,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAChF,MAAM,CAACyB,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAC1E,MAAM,CAAC2B,YAAY,EAAEC,eAAe,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;;EAEpD;EACA;;EAEA,MAAM6B,YAAY,GAAG3B,WAAW,CAAC,MAAM;IACrCK,MAAM,CAACuB,UAAU,CAAC,CAAC;IACnBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCV,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEdrB,SAAS,CAAC,MAAM;IACd,MAAMgC,KAAK,GAAGF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAID,KAAK,EAAE;MACP,IAAI;QACA,MAAME,YAAY,GAAG9B,SAAS,CAAC4B,KAAK,CAAC;QACrCL,eAAe,CAACO,YAAY,CAACC,IAAI,CAAC;MACtC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;QACxDR,YAAY,CAAC,CAAC;MAClB;IACJ,CAAC,MAAM;MACHP,QAAQ,CAAC,GAAG,CAAC;IACjB;IAEA,MAAMiB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMrC,KAAK,CAACsC,GAAG,CAAC,oCAAoC,CAAC;QACtEtB,WAAW,CAACqB,QAAQ,CAACE,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOL,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD,CAAC,SAAS;QACRhB,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IACDkB,gBAAgB,CAAC,CAAC;EAEpB,CAAC,EAAE,CAACjB,QAAQ,EAAEO,YAAY,CAAC,CAAC;EAE5B,MAAMc,gBAAgB,GAAG,MAAOC,SAAS,IAAK;IAC5C,IAAI;MACF,MAAMJ,QAAQ,GAAG,MAAMrC,KAAK,CAACsC,GAAG,CAAC,sCAAsCG,SAAS,EAAE,CAAC;MACnFpB,4BAA4B,CAACgB,QAAQ,CAACE,IAAI,CAAC;IAC7C,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdQ,KAAK,CAAC,6CAA6C,CAAC;IACtD;EACF,CAAC;EACD,MAAMC,iBAAiB,GAAGA,CAAA,KAAMtB,4BAA4B,CAAC,IAAI,CAAC;EAElE,MAAMuB,aAAa,GAAIC,OAAO,IAAK;IACjC,IAAIA,OAAO,EAAE;MACTF,iBAAiB,CAAC,CAAC;MACnBpB,yBAAyB,CAACsB,OAAO,CAAC;IACtC;EACF,CAAC;EACD,MAAMC,cAAc,GAAGA,CAAA,KAAMvB,yBAAyB,CAAC,IAAI,CAAC;;EAE5D;EACA;EACA;;EAEA,IAAIN,SAAS,EAAE,oBAAOP,OAAA;IAAKqC,SAAS,EAAC,mBAAmB;IAAAC,QAAA,EAAC;EAAqB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAEpF,oBACE1C,OAAA;IAAKqC,SAAS,EAAC,qBAAqB;IAAAC,QAAA,gBAClCtC,OAAA;MAAQqC,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC7BtC,OAAA;QAAKqC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,GAAC,UACvB,eAAAtC,OAAA;UAAAsC,QAAA,EAAOxB;QAAY;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,4DACrC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN1C,OAAA;QAAKqC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BtC,OAAA;UAAQqC,SAAS,EAAC,eAAe;UAACM,OAAO,EAAEA,CAAA,KAAMlC,QAAQ,CAAC,gBAAgB,CAAE;UAAA6B,QAAA,gBAC1EtC,OAAA,CAACL,YAAY;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChB1C,OAAA;YAAAsC,QAAA,EAAM;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC,eAET1C,OAAA;UAAQqC,SAAS,EAAC,eAAe;UAACM,OAAO,EAAEA,CAAA,KAAMlC,QAAQ,CAAC,gBAAgB,CAAE;UAAA6B,QAAA,gBAC1EtC,OAAA,CAACJ,WAAW;YAAA2C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACf1C,OAAA;YAAAsC,QAAA,EAAM;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC,eAGT1C,OAAA;UAAQqC,SAAS,EAAC,eAAe;UAACM,OAAO,EAAEA,CAAA,KAAMlC,QAAQ,CAAC,aAAa,CAAE;UAAA6B,QAAA,gBACvEtC,OAAA,CAACH,UAAU;YAAA0C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACd1C,OAAA;YAAAsC,QAAA,EAAM;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC,eAET1C,OAAA;UAAQqC,SAAS,EAAC,sBAAsB;UAACM,OAAO,EAAE3B,YAAa;UAAAsB,QAAA,gBAC7DtC,OAAA,CAACF,YAAY;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChB1C,OAAA;YAAAsC,QAAA,EAAM;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAET1C,OAAA;MAAMqC,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAC9BjC,QAAQ,CAACuC,GAAG,CAACT,OAAO;QAAA,IAAAU,gBAAA;QAAA,oBACnB7C,OAAA;UAAsBqC,SAAS,EAAC,mBAAmB;UAACM,OAAO,EAAEA,CAAA,KAAMb,gBAAgB,CAACK,OAAO,CAACW,EAAE,CAAE;UAAAR,QAAA,gBAC9FtC,OAAA;YAAKqC,SAAS,EAAC,sBAAsB;YAAAC,QAAA,eACnCtC,OAAA;cACE+C,GAAG,EAAEZ,OAAO,CAACa,SAAS,GAAG,yBAAyBb,OAAO,CAACa,SAAS,EAAE,GAAG,oDAAqD;cAC7HC,GAAG,EAAE,GAAGd,OAAO,CAACe,KAAK,IAAIf,OAAO,CAACgB,KAAK;YAAG;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACN1C,OAAA;YAAKqC,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BtC,OAAA;cAAAsC,QAAA,gBACEtC,OAAA;gBAAIqC,SAAS,EAAC,eAAe;gBAAAC,QAAA,GAAEH,OAAO,CAACe,KAAK,EAAC,GAAC,EAACf,OAAO,CAACgB,KAAK;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAClE1C,OAAA;gBAAGqC,SAAS,EAAC,eAAe;gBAAAC,QAAA,GAAEH,OAAO,CAACiB,IAAI,EAAC,UAAG,GAAAP,gBAAA,GAACV,OAAO,CAACkB,OAAO,cAAAR,gBAAA,uBAAfA,gBAAA,CAAiBS,cAAc,CAAC,OAAO,CAAC,EAAC,aAAM,EAACnB,OAAO,CAACoB,IAAI;cAAA;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7G,CAAC,eACN1C,OAAA;cAAKqC,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvBkB,UAAU,CAACrB,OAAO,CAACsB,UAAU,CAAC,CAACH,cAAc,CAAC,OAAO,EAAE;gBAAEI,KAAK,EAAE,UAAU;gBAAEC,QAAQ,EAAE,KAAK;gBAAEC,qBAAqB,EAAE,CAAC;gBAAEC,qBAAqB,EAAE;cAAE,CAAC;YAAC;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GAfEP,OAAO,CAACW,EAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgBf,CAAC;MAAA,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAENhC,yBAAyB,iBACxBV,OAAA,CAAC8D,kBAAkB;MACjB3B,OAAO,EAAEzB,yBAA0B;MACnCqD,UAAU,EAAE9B,iBAAkB;MAC9B+B,QAAQ,EAAEA,CAAA,KAAM9B,aAAa,CAACxB,yBAAyB;IAAE;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1D,CACF,EAEA9B,sBAAsB,iBACrBZ,OAAA,CAACP,SAAS;MAER0C,OAAO,EAAEvB,sBAAuB;MAChCmD,UAAU,EAAE3B;IAAe,GAFtBxB,sBAAsB,CAACkC,EAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAG/B,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGE,CAAC;AAEV;;AAEA;AAAAtC,EAAA,CA/ISD,QAAQ;EAAA,QAGEZ,WAAW;AAAA;AAAA0E,EAAA,GAHrB9D,QAAQ;AAgJjB,SAAS2D,kBAAkBA,CAAC;EAAE3B,OAAO;EAAE4B,UAAU;EAAEC;AAAS,CAAC,EAAE;EAAAE,GAAA;EAAA,IAAAC,iBAAA;EAC3D;EACA,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGlF,QAAQ,CAAC,CAAC,CAAC;EAE7D,MAAMmF,SAAS,GAAIC,CAAC,IAAK;IACrBA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnBH,oBAAoB,CAACI,IAAI,IAAKA,IAAI,KAAKtC,OAAO,CAACuC,MAAM,CAACC,MAAM,GAAG,CAAC,GAAG,CAAC,GAAGF,IAAI,GAAG,CAAE,CAAC;EACrF,CAAC;EACD,MAAMG,SAAS,GAAIL,CAAC,IAAK;IACrBA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnBH,oBAAoB,CAACI,IAAI,IAAKA,IAAI,KAAK,CAAC,GAAGtC,OAAO,CAACuC,MAAM,CAACC,MAAM,GAAG,CAAC,GAAGF,IAAI,GAAG,CAAE,CAAC;EACrF,CAAC;EAED,oBACIzE,OAAA;IAAKqC,SAAS,EAAC,eAAe;IAACM,OAAO,EAAEoB,UAAW;IAAAzB,QAAA,eACnDtC,OAAA;MAAKqC,SAAS,EAAC,eAAe;MAACM,OAAO,EAAG4B,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;MAAAlC,QAAA,gBAC/DtC,OAAA;QAAQqC,SAAS,EAAC,iBAAiB;QAACM,OAAO,EAAEoB,UAAW;QAAAzB,QAAA,EAAC;MAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACnE1C,OAAA;QAAKqC,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC3BtC,OAAA;UAAKqC,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAChCH,OAAO,CAACuC,MAAM,IAAIvC,OAAO,CAACuC,MAAM,CAACC,MAAM,GAAG,CAAC,gBAC5C3E,OAAA;YAAKqC,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC1BtC,OAAA;cAAKqC,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACrCtC,OAAA;gBAAK+C,GAAG,EAAE,yBAAyBZ,OAAO,CAACuC,MAAM,CAACN,iBAAiB,CAAC,CAACpB,SAAS,EAAG;gBAACC,GAAG,EAAC,aAAU;gBAACZ,SAAS,EAAC;cAAY;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACzHP,OAAO,CAACuC,MAAM,CAACC,MAAM,GAAG,CAAC,iBACtB3E,OAAA,CAAAE,SAAA;gBAAAoC,QAAA,gBACAtC,OAAA;kBAAQqC,SAAS,EAAC,oBAAoB;kBAACM,OAAO,EAAEiC,SAAU;kBAAAtC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACrE1C,OAAA;kBAAQqC,SAAS,EAAC,oBAAoB;kBAACM,OAAO,EAAE2B,SAAU;kBAAAhC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA,eACnE,CACL;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC,EACLP,OAAO,CAACuC,MAAM,CAACC,MAAM,GAAG,CAAC,iBAC1B3E,OAAA;cAAKqC,SAAS,EAAC,qBAAqB;cAAAC,QAAA,EAC/BH,OAAO,CAACuC,MAAM,CAAC9B,GAAG,CAAC,CAACiC,KAAK,EAAEC,KAAK,kBACjC9E,OAAA;gBAAoB+C,GAAG,EAAE,yBAAyB8B,KAAK,CAAC7B,SAAS,EAAG;gBAACC,GAAG,EAAE,aAAa6B,KAAK,GAAG,CAAC,EAAG;gBAC/FzC,SAAS,EAAE,aAAayC,KAAK,KAAKV,iBAAiB,GAAG,QAAQ,GAAG,EAAE,EAAG;gBACtEzB,OAAO,EAAG4B,CAAC,IAAK;kBAAEA,CAAC,CAACC,eAAe,CAAC,CAAC;kBAAEH,oBAAoB,CAACS,KAAK,CAAC;gBAAE;cAAE,GAFhED,KAAK,CAAC/B,EAAE;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAE0D,CAC3E;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CACJ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,gBACF1C,OAAA;YAAAsC,QAAA,EAAG;UAAsC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,eACN1C,OAAA;UAAKqC,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBAC/BtC,OAAA;YAAIqC,SAAS,EAAC,qBAAqB;YAAAC,QAAA,GAAEH,OAAO,CAACe,KAAK,EAAC,GAAC,EAACf,OAAO,CAACgB,KAAK;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACxE1C,OAAA;YAAKqC,SAAS,EAAC,sBAAsB;YAAAC,QAAA,gBACrCtC,OAAA;cAAKqC,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAACtC,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAAA1C,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAEH,OAAO,CAACiB;cAAI;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjI1C,OAAA;cAAKqC,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAACtC,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAAA1C,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,IAAA6B,iBAAA,GAAEhC,OAAO,CAACkB,OAAO,cAAAc,iBAAA,uBAAfA,iBAAA,CAAiBb,cAAc,CAAC,OAAO,CAAC,EAAC,KAAG;cAAA;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACtK1C,OAAA;cAAKqC,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAACtC,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAAA1C,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAEH,OAAO,CAACoB;cAAI;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnI1C,OAAA;cAAKqC,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAACtC,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAAA1C,OAAA;gBAAMqC,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAEH,OAAO,CAAC4C;cAAI;gBAAAxC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9H,CAAC,eACN1C,OAAA;YAAKqC,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC9BtC,OAAA;cAAMqC,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACjD1C,OAAA;cAAMqC,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAEkB,UAAU,CAACrB,OAAO,CAACsB,UAAU,CAAC,CAACH,cAAc,CAAC,OAAO,EAAE;gBAAEI,KAAK,EAAE,UAAU;gBAAEC,QAAQ,EAAE;cAAM,CAAC;YAAC;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChI,CAAC,EACLP,OAAO,CAAC6C,WAAW,iBACpBhF,OAAA;YAAKqC,SAAS,EAAC,qBAAqB;YAAAC,QAAA,gBAChCtC,OAAA;cAAAsC,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAAA1C,OAAA;cAAAsC,QAAA,EAAIH,OAAO,CAAC6C;YAAW;cAAAzC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CACJ,eACD1C,OAAA;YAAQqC,SAAS,EAAC,uBAAuB;YAACM,OAAO,EAAEqB,QAAS;YAAA1B,QAAA,EAAC;UAE7D;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd;AAACwB,GAAA,CAnEQJ,kBAAkB;AAAAmB,GAAA,GAAlBnB,kBAAkB;AAsE3B,eAAe3D,QAAQ;AAAC,IAAA8D,EAAA,EAAAgB,GAAA;AAAAC,YAAA,CAAAjB,EAAA;AAAAiB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}